<% provide(:title, '学生一覧') %>
<h1>学生一覧</h1>
<%= search_form_for @search do |f| %>
  <%= f.label :name, '名前' %>
  <%= f.text_field :user_name_cont %>

  <%= f.label :skill, 'スキル' %>
  <%= f.text_field :skills_name_cont %>
  <div class="popular">
    人気のあるスキル:
    <% Student.skill_counts.most_used(7).each do |skill| %>
      <%= link_to skill, :controller => "students", :action => "index", q: {skills_name_cont: skill.name} %>
    <% end %>
  </div>

  <%= f.label :personality, 'パーソナリティ' %>
  <%= f.text_field :personalities_name_cont %>
  <div class="popular">
    人気のあるパーソナリティ:
    <% Student.personality_counts.most_used(7).each do |personality| %>
      <%= link_to personality, :controller => "students", :action => "index", q: {personalities_name_cont: personality.name} %>
    <% end %>
  </div>
  <div>
    <%= f.submit '検索する', class: "btn btn-primary"%>
  </div>

<% end %>

<%= will_paginate @students %>

<ul class="students">
  <%= render @students %>
</ul>

<%= will_paginate @students %>

